{
  "summary": {
    "total_tests": 10,
    "passed_tests": 10,
    "success_rate": 100.0,
    "timestamp": "2026-01-31T21:51:53.347522",
    "test_focus": "AD/SB OCR Deletion Fix"
  },
  "detailed_results": [
    {
      "test_name": "Login with test user",
      "success": true,
      "details": "Status: 200",
      "response_data": {
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNzY5NzMzMDc4NDk2ODg3IiwiZXhwIjoxNzcwNTAxMTEzfQ.mSM8J1TfYgRjhhReHaRtMjLmVKzbZw7wBLl1NI0Fn6g",
        "token_type": "bearer",
        "user": {
          "email": "test@aerologix.ca",
          "name": "Test User",
          "id": "1769733078496887",
          "created_at": "2026-01-30T00:31:18.739000",
          "subscription": {
            "plan_code": "BASIC",
            "plan": "BASIC",
            "status": "active",
            "stripe_customer_id": null,
            "stripe_subscription_id": null,
            "trial_end": null,
            "current_period_end": null
          },
          "limits": {
            "max_aircrafts": 1,
            "ocr_per_month": 5,
            "logbook_entries_per_month": 10,
            "gps_logbook": false,
            "tea_amo_sharing": false,
            "invoices": false,
            "cost_per_hour": false,
            "prebuy": false,
            "has_fleet_access": false,
            "has_mechanic_sharing": false
          }
        }
      },
      "timestamp": "2026-01-31T21:51:53.323090"
    },
    {
      "test_name": "Get aircraft list",
      "success": true,
      "details": "Status: 200",
      "response_data": [
        {
          "registration": "C-GTEST",
          "aircraft_type": null,
          "manufacturer": null,
          "model": "172",
          "year": 2020,
          "serial_number": "TEST123456",
          "airframe_hours": 2000.0,
          "engine_hours": 1800.0,
          "propeller_hours": 1000.0,
          "photo_url": null,
          "description": "Test update",
          "purpose": "Non sp\u00e9cifi\u00e9",
          "base_city": "Non sp\u00e9cifi\u00e9",
          "adsb_has_new_tc_items": false,
          "count_new_adsb": 0,
          "last_tc_adsb_version": null,
          "last_adsb_reviewed_at": null,
          "_id": "1769733120179849",
          "user_id": "1769733078496887",
          "created_at": "2026-01-30T00:32:00.179000",
          "updated_at": "2026-01-31T13:44:04.795000"
        }
      ],
      "timestamp": "2026-01-31T21:51:53.327174"
    },
    {
      "test_name": "Get OCR scan AD/SB for aircraft C-GTEST with new fields",
      "success": true,
      "details": "Status: 200",
      "response_data": {
        "aircraft_id": "1769733120179849",
        "registration": "C-GTEST",
        "items": [],
        "total_unique_references": 0,
        "total_ad": 0,
        "total_sb": 0,
        "documents_analyzed": 0,
        "source": "scanned_documents",
        "disclaimer": "These references were detected by OCR from scanned maintenance documents. This is DOCUMENTARY EVIDENCE ONLY, not a compliance assessment. Verify all information with original documents and a licensed AME."
      },
      "timestamp": "2026-01-31T21:51:53.332969"
    },
    {
      "test_name": "OCR scan AD/SB new fields validation",
      "success": true,
      "details": "All 0 items have required new fields: id, reference, type, title, description, status, occurrence_count, record_ids",
      "response_data": null,
      "timestamp": "2026-01-31T21:51:53.333150"
    },
    {
      "test_name": "Delete non-existent AD/SB record",
      "success": true,
      "details": "Status: 404",
      "response_data": {
        "detail": "AD/SB record not found"
      },
      "timestamp": "2026-01-31T21:51:53.340527"
    },
    {
      "test_name": "DELETE adsb 404 handling",
      "success": true,
      "details": "Correctly returned 404 with message: AD/SB record not found",
      "response_data": null,
      "timestamp": "2026-01-31T21:51:53.340621"
    },
    {
      "test_name": "Delete non-existent AD/SB reference for aircraft C-GTEST",
      "success": true,
      "details": "Status: 404",
      "response_data": {
        "detail": "No AD/SB records found for reference: AD 2011-10-09"
      },
      "timestamp": "2026-01-31T21:51:53.347265"
    },
    {
      "test_name": "DELETE adsb by reference 404 handling",
      "success": true,
      "details": "Correctly returned 404 with detail: No AD/SB records found for reference: AD 2011-10-09",
      "response_data": null,
      "timestamp": "2026-01-31T21:51:53.347360"
    },
    {
      "test_name": "OCR scan response structure validation",
      "success": true,
      "details": "Response structure matches expected format with aircraft_id and items array containing new fields",
      "response_data": null,
      "timestamp": "2026-01-31T21:51:53.347373"
    },
    {
      "test_name": "AD/SB OCR deletion fix endpoints complete",
      "success": true,
      "details": "All 4 test scenarios passed: (1) GET ocr-scan with new fields, (2) DELETE adsb 404 handling, (3) DELETE by reference 404 handling, (4) Response structure validation",
      "response_data": null,
      "timestamp": "2026-01-31T21:51:53.347379"
    }
  ]
}